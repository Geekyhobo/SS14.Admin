<script>
{
    let durationInput = document.getElementById("durationInput");
    let updateButtons = function() {
        for (const btn of document.querySelectorAll(".durationButton")) {
            let dur = Number(btn.dataset.duration);
            let suffix = btn.dataset.suffix;

            let val = Number(durationInput.value);
            val /= dur;
            btn.innerText = `+1${suffix} (${Math.round(val)})`;
        }
    };

    durationInput.addEventListener("change", () => {
        updateButtons();
    });

    for (const btn of document.querySelectorAll(".durationButton")) {
        let dur = Number(btn.dataset.duration);
        btn.addEventListener("click", e => {
            durationInput.value = (Number(durationInput.value) + dur).toString();
            updateButtons();
            e.preventDefault();
        });
    }

    updateButtons();
}
</script>
