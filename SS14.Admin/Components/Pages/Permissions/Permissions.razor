@page "/Permissions"
@using Microsoft.AspNetCore.Components.QuickGrid


<PageTitle>Permissions Management</PageTitle>

<h1 class="text-2xl font-bold mb-4">Manage Permissions</h1>

<filter Model="_model" />

<QuickGrid TItem="PlayerViewModel"
           @ref="Grid"
           Items="@_adminQuery"
           Pagination="@_pagination"
           Class="grow">
    <PropertyColumn Property="@(admin => admin.Username)" Title="Username"></PropertyColumn>
    <PropertyColumn Property="@(admin => admin.Title)" Title="Title"></PropertyColumn>
    <PropertyColumn Property="@(admin => admin.Rank)" Title="Rank"></PropertyColumn>
    <PropertyColumn Property="@(admin => admin.Flags)" Title="Flags"></PropertyColumn>
    <TemplateColumn Title="Edit Permissions" Context="admin">
        <NavLink href="@($"permissions/{admin.UserId}")" class="btn btn-primary">
            <i class="ri-info-card-line"></i>
        </NavLink>
    </TemplateColumn>
</QuickGrid>
<Pagination OnRefreshRequired="Refresh" class="py-2 border-t bg-primary-1 sticky-pagination" State="@_pagination"/>
